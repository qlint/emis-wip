create or replace function date_text_to_date(str varchar)
returns text language plpgsql as $$
begin
    return TO_CHAR(str :: DATE, 'dd/mm/yyyy');
exception
    when others then return str;
end $$;
